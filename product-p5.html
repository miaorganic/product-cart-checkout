<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Product ‚Äî Oat & Honey Soap</title>
<style>
  body{font-family:Segoe UI, Arial; margin:20px; background:#faf9f6}
  .card{background:#fff;padding:18px;border-radius:10px;max-width:420px;margin:auto;box-shadow:0 2px 8px rgba(0,0,0,0.05)}
  h2{margin:0 0 8px}
  .price{font-weight:700;margin-bottom:12px;font-size:18px;color:#c44}
  .stock{font-weight:bold;margin:8px 0;color:#333}
  .viewers{color:#333;font-size:14px;margin:8px 0;display:flex;align-items:center;gap:6px}
  .add{background:#D6A7A1;color:#fff;border:0;padding:10px 16px;border-radius:8px;cursor:pointer}
  .add:hover{background:#C2B280}
</style>
</head>
<body>
  <div class="card">
    <h2>Oat & Honey Soap</h2>
    <div class="price">Rs. 550</div>

    <!-- ‚≠ê Custom Star Rating -->
    <div style="width: 100%; display: flex; justify-content: center; margin:8px 0;">
      <div style="display: flex; align-items: center; gap: 4px; font-size: 20px; line-height: 1;">
        <!-- Full Stars -->
        <span style="color: #D4AF37;">‚òÖ</span>
        <span style="color: #D4AF37;">‚òÖ</span>
        <span style="color: #D4AF37;">‚òÖ</span>
        <span style="color: #D4AF37;">‚òÖ</span>

        <!-- Half star using clipped span -->
        <span style="position: relative; display: inline-block; color: #ccc;">
          <span style="color: #D4AF37; width: 50%; overflow: hidden; position: absolute; top: 0; left: 0;">‚òÖ</span>
          ‚òÖ
        </span>

        <!-- Review Count -->
        <span style="font-size: 14px; color: #7A7262;">(27)</span>
      </div>
    </div>

    <!-- üì¶ Stock -->
    <div class="stock" id="stockStatus">Checking stock...</div>

    <!-- üëÅ Viewers -->
    <div class="viewers">
      <span style="font-size:16px;">üëÅ</span> 
      <span id="viewersCount">0</span>
    </div>

    <button class="add" onclick="addToCartAndGo()">Add to Cart</button>
  </div>

<script>
/* ---------- Add to Cart ---------- */
function addToCartAndGo(){
  const name = 'Oat & Honey Soap';
  const price = 550;
  let cart = JSON.parse(localStorage.getItem('store_cart')) || [];
  let existing = cart.find(i => i.name === name);
  if(existing) existing.qty++;
  else cart.push({ id:'p1', name, price, qty:1 });
  localStorage.setItem('store_cart', JSON.stringify(cart));
  window.location.href = './'; // cart page (adjust if needed)
}

/* ---------- Live viewers (3‚Äì18) ---------- */
function updateViewers() {
  const viewers = Math.floor(Math.random() * (18 - 3 + 1)) + 3;
  document.getElementById("viewersCount").innerText = viewers;
}
setInterval(updateViewers, 5000);
updateViewers();

/* ---------- Stock counter ---------- */
let stock = 12; // set stock number here
function updateStock() {
  let text = "";
  if (stock > 20) text = "In stock: " + stock + "+ available";
  else if (stock > 5) text = "Limited stock: only " + stock + " left!";
  else if (stock > 0) text = "‚ö†Ô∏è Hurry! Only " + stock + " left ‚Äî running out!";
  else text = "‚ùå Out of stock";
  document.getElementById("stockStatus").innerText = text;
}
updateStock();
</script>
</body>
</html>
